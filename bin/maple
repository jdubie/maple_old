#!/usr/bin/env coffee

program = require('commander')

_new    = require('./new')
server  = require('./server')

program
  .version('0.0.1')
  .usage('[options]')
  .option('new', 'New maple site')
  .option('server', 'Run maple server')
  .option('db:seed', 'Seed db from db/seed.json')
  .option('db:save', 'Save current db to db/save.json')
  .parse(process.argv);

require('./db').seed() if program['db:seed']?
require('./db').save() if program['db:save']?
_new()    if program['new']?
server()  if program['server']?